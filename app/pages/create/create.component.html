<div class="card card-custom gutter-b">
  <!-- <div class="card-header">
      <div class="card-title">
        <h3 class="card-label">Wizard 1</h3>
      </div>
    </div> -->
  <div class="card-body">
    <!--begin: Wizard -->
    <div #wizard class="wizard wizard-3" id="kt_wizard_v3" data-wizard-state="step-first">
      <!--begin: Form Wizard Nav -->
      <div class="kt-grid__item">
        <!--begin: Form Wizard Nav -->
        <div class="wizard-nav border-bottom mb-1 mb-lg-5">
          <div class="wizard-steps px-8 py-8 px-lg-15 py-lg-3">
            <a class="wizard-step" href="javascript:;" data-wizard-type="step" data-wizard-state="current">
              <div class="wizard-label">
                <div class="wizard-title"><span>1</span> Customer</div>
                <div class="wizard-bar"></div>
              </div>
            </a>
            <a class="wizard-step" href="javascript:;" data-wizard-type="step">
              <div class="wizard-label">
                <div class="wizard-title"><span>2</span> Item Details</div>
                <div class="wizard-bar"></div>
              </div>
            </a>
            <a class="wizard-step" href="javascript:;" data-wizard-type="step">
              <div class="wizard-label">
                <div class="wizard-title"><span>3</span> Repair Details</div>
                <div class="wizard-bar"></div>
              </div>
            </a>
            <!-- <a class="wizard-step" href="javascript:;" data-wizard-type="step">
              <div class="wizard-label">
                <div class="wizard-title"><span>4</span> Complete</div>
                <div class="wizard-bar"></div>
              </div>
            </a> -->

          </div>
        </div>
        <!--end: Form Wizard Nav -->
      </div>
      <!--end: Form Wizard Nav -->
      <div class="row justify-content-center my-10 px-8 my-lg-15 px-lg-10">
        <div class="col-xl-12 col-xxl-12">
          <!--begin: Form Wizard Form-->
          <form class="form" id="kt_form">
            <!--begin: Form Wizard Step 1-->
            <div class="pb-5" data-wizard-type="step-content" data-wizard-state="current">

              <div class="row" [formGroup]="step1FormGroup">
                <div class="col-6 new-customer-container">
                  <div class="mb-10 font-weight-bold text-dark">
                    Add New Customer
                  </div>
                  <!-- <p>Hello</p> -->

                  <p>If this customer has not already been added to Repair Pilot, click the button below to create a new
                    customer record.</p>
                  <div class="card-toolbar">
                    <button type="button" class="btn btn-primary" (click)="editModal()">+Add a New Customer</button>

                  </div>
                </div>
                <div class="col-6  new-customer-container1">
                  <div class="mb-10 font-weight-bold text-dark">
                    Search Current Customers
                  </div>
                  <p>Search by name, phone number, email etc..</p>

                  <div class="row">
                    <div class="col-12">
                      <label for="customer"><strong>Customer:</strong></label>
                      <mat-form-field class="col-8" style="margin-left: 9%;">
                        <mat-select (selectionChange)="selectCustomer($event.value)"
                          [class.is-invalid]="Step1FormSelectControlInvalid('customer')" name="customer"
                          formControlName="customer" placeholder="Select Customer">
                          <mat-option>
                            <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="customerMultiFilterCtrl" [searching]="searching">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let cust of filteredCustomerMulti | async" [value]="cust">
                            {{cust.name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                      <div class="invalid-feedback" *ngIf="Step1FormSelectcontrolHasError('required', 'customer')">
                        Select Customer</div>
                    </div>

                    <div class="col-12" *ngIf="isContact">
                      <div class="row">
                        <div class="col-3" style="margin-top: 3%;">
                          <label for="customer"><strong>Contact No:</strong></label>
                        </div>
                        <div class="col-8">
                          <input type="text" class="form-control form-control-lg " (keypress)="keyPress($event)"
                            (keypress)="keyPress($event)" pattern="^((\\+0?)|0)?[0-9]{10}$" maxlength=11 minlength=11
                            name="customerContact" placeholder="Enter Contact No" autocomplete="off"
                            [class.is-invalid]="Step1FormSelectControlInvalid('customerContact')"
                            [(ngModel)]="contact.contactNo" formControlName="customerContact" />
                          <div class="invalid-feedback" *ngIf="Step1FormSelectcontrolHasError('minlength', 'customerContact')">Contact No
                            should have at
                            least 11 digits</div>
                          <div class="invalid-feedback" *ngIf="Step1FormSelectcontrolHasError('maxLength', 'customerContact')">Contact No
                            should have at
                            least 11 digits</div>
                        </div>
                      </div>
                      <br>
                      <div class="row">
                        <div class="col-3" style="margin-top: 3%;">
                          <label for="customer"><strong>Email:</strong></label>
                        </div>
                        <div class="col-8">
                          <input type="text" class="form-control form-control-lg" name="customerEmail"
                            placeholder="Enter Contact No" autocomplete="off" [(ngModel)]="contact.email"
                            formControlName="customerEmail" [class.is-invalid]="Step1FormSelectControlInvalid('customerEmail')" />
                            <div class="invalid-feedback" *ngIf="Step1FormSelectcontrolHasError('email', 'customerEmail')">Email format is
                              incorrect</div>
                        </div>
                      </div>
                      <br>
                      <div class="row">
                        <div class="col-3" style="margin-top: 3%;">
                          <label for="customer"><strong> Address:</strong></label>
                        </div>
                        <div class="col-8">
                          <textarea class="form-control form-control-lg  " name="customerAddress"
                            placeholder="Enter Address" autocomplete="off" [(ngModel)]="contact.address"
                            formControlName="customerAddress" cols="10" rows="2"></textarea>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!--end: Form Wizard Step 1-->

            <!--begin: Form Wizard Step 2-->
            <div class="pb-5" data-wizard-type="step-content" [formGroup]="step2FormGroup">
              <div class="row">
                <div class="col-lg-6" style="float: left;">
                  <div class="form-group cust-height">
                    <label class="form-label"><strong> Item Type </strong></label>
                    <div class="row">
                      <div class="col-8">
                        <mat-form-field class="col-12">
                          <mat-select (selectionChange)="selectItem($event.value)"
                            [class.is-invalid]="Step2FormSelectControlInvalid('itemType')" formControlName="itemType"
                            name="itemType" [(ngModel)]="createJobObj.itemType" placeholder="Select Item">
                            <mat-option>
                              <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="itemMultiFilterCtrl" [searching]="searching">
                              </ngx-mat-select-search>
                            </mat-option>
                            <mat-option>None</mat-option>
                            <mat-option *ngFor="let item of filteredItemMulti | async" [value]="item.itemType">
                              {{item.itemType}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <div class="invalid-feedback" *ngIf="Step2FormSelectcontrolHasError('required', 'itemType')">
                          Item is required </div>

                      </div>
                      <div class="col-4">
                        <button type="button" tooltip="Add Item" placement="top" show-delay="100"
                          (click)="editItemModal()" style="padding: 12px;" class="btn btn-sm btn-primary"><i
                            class="fa fa-plus" aria-hidden="true"></i></button>
                      </div>
                    </div>
                  </div>
                  <div class="form-group cust-height">
                    <label class="form-label"><strong> Brand </strong></label>
                    <div class="row">
                      <div class="col-8">
                        <mat-form-field class="col-12">
                          <mat-select (selectionChange)="selectBrand($event.value)"
                            [class.is-invalid]="Step2FormSelectControlInvalid('brand')" formControlName="brand"
                            name="brand" [(ngModel)]="createJobObj.brand" placeholder="Select Brand">
                            <mat-option>
                              <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="brandMultiFilterCtrl" [searching]="searching">
                              </ngx-mat-select-search>
                            </mat-option>
                            <mat-option>None</mat-option>
                            <mat-option *ngFor="let brands of filteredBrandMulti | async" [value]="brands.brand">
                              {{brands.brand}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <div class="invalid-feedback" *ngIf="Step2FormSelectcontrolHasError('required', 'brand')">
                          Brand is required</div>

                      </div>
                      <div class="col-4">
                        <button type="button" tooltip="Add Brand" placement="top" show-delay="100"
                          (click)="editBrandModal()" style="padding: 12px;" class="btn btn-sm btn-primary"><i
                            class="fa fa-plus" aria-hidden="true"></i></button>
                      </div>
                    </div>
                  </div>

                  <div class="form-group cust-height">
                    <label class="form-label"><strong> Accompanying Items </strong></label>
                    <div class="row">
                      <div class="col-8">
                        <mat-form-field class="col-12">
                          <mat-select (selectionChange)="selectACItems($event.value)" multiple
                            [class.is-invalid]="Step2FormSelectControlInvalid('acItems')" formControlName="acItems"
                            name="acItems" [(ngModel)]="createJobObj.acItems" placeholder="Select Accompanying Items">
                            <mat-option>
                              <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="ACItemsMultiFilterCtrl" [searching]="searching">
                              </ngx-mat-select-search>
                            </mat-option>
                            <mat-option *ngFor="let accItems of filteredACItemsMulti | async"
                              [value]="accItems.acItems">
                              {{accItems.acItems}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <div class="invalid-feedback" *ngIf="Step2FormSelectcontrolHasError('required', 'acItems')">
                          Accompanying Item is required
                        </div>

                      </div>
                      <div class="col-4">
                        <button type="button" tooltip="Add Accompanying Item " placement="top" show-delay="100"
                          (click)="editACItemModal()" style="padding: 12px;" class="btn btn-sm btn-primary"><i
                            class="fa fa-plus" aria-hidden="true"></i></button>
                      </div>
                    </div>
                  </div>

                  <div class="form-group cust-height" style="display: inline;">
                    <div class="col-10">
                      <label class="form-label"><strong> Damage Assessment </strong></label>
                      <textarea class="form-control form-control-lg " name="damageAssesment"
                        placeholder="Make a  note of any damage NOT related to the repair here (e.g scratch on the case)."
                        autocomplete="off" formControlName="damageAssesment" cols="3" rows="3"></textarea>
                    </div>
                  </div>
                </div>

                <div class="col-lg-6" style="float: left;">
                  <div class="form-group cust-height">
                    <div class="col-10">
                      <label class="form-label"><strong> Model </strong></label>
                      <input type="text" class="form-control form-control-lg " name="modelNo"
                        placeholder="Enter Modal" autocomplete="off" formControlName="modelNo" />
                      <!-- <div class="invalid-feedback" *ngIf="Step2FormSelectcontrolHasError('required', 'serialNo')">Serial No is
                      required
                    </div> -->
                    </div>
                  </div>
                  <div class="form-group cust-height">
                    <div class="col-10">
                      <label class="form-label"><strong> Serial No </strong></label>
                      <input type="text" class="form-control form-control-lg " name="serialNo"
                        placeholder="Enter Serial No" autocomplete="off" formControlName="serialNo" />
                      <!-- <div class="invalid-feedback" *ngIf="Step2FormSelectcontrolHasError('required', 'serialNo')">Serial No is
                      required
                    </div> -->
                    </div>
                  </div>
                  <div class="form-group cust-height">
                    <div class="col-10">
                      <label class="form-label"><strong>Password </strong></label>
                      <input type="text" class="form-control form-control-lg  " name="password"
                        placeholder="Enter Password" autocomplete="off" formControlName="password" />
                      <!-- <div class="invalid-feedback" *ngIf="Step2FormSelectcontrolHasError('required', 'password')">Password is
                      required
                    </div> -->
                    </div>
                  </div>
                  <div class="form-group cust-height" style="display: inline;">
                    <div class="col-10">
                      <label class="form-label"><strong> Repair Comment </strong></label>
                      <textarea class="form-control form-control-lg  " name="itemComment"
                        placeholder="Any comments relating the item (e.g the battery does not  last long)."
                        autocomplete="off" formControlName="itemComment" cols="3" rows="3"></textarea>
                    </div>
                  </div>
                  <br>
                  <div class="form-group cust-height">
                    <div class="col-10">
                      <label class="form-label"><strong>Under Warranty </strong></label>
                      <div class="col-lg-9 col-xl-4">

                        <label class="checkbox checkbox-lg checkbox-inline">
                          <input type="checkbox" name="warranty" (change)="changeWarranty($event.target.checked)"
                            autocomplete="off" formControlName="warranty" />
                          <span></span>
                        </label>

                        <div class="form-text text-muted">
                          <!-- Enable fixed header for desktop mode -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- </div> -->
              </div>
              <div class="col-lg-12">
                <div class="card">
                  <div class="card-body">
                    <div class="modal-title h4" id="example-modal-sizes-title-lg">
                      <!-- <ng-container *ngIf="customer">
                          <ng-container *ngIf="customer.id">Edit</ng-container>
                          <ng-container *ngIf="!customer.id">Create</ng-container>
                       
                          <ng-container *ngIf="customer.id">'{{customer.firstName}} {{ customer.lastName }}'</ng-container>
                        </ng-container> -->
                      <div class="row">
                        <div class="col-6">
                          <span>Job Attachments</span>
                        </div>
                        <div class="col-6">
                          <div class="row">
                            <div class="col-8">
                              <label for="file-upload" class="custom-file-upload">
                                <i class="fa fa-camera" aria-hidden="true"> </i>
                                Add Attachment
                              </label>
                              <!-- <input id="file-upload" type="file" ng2FileSelect [uploader]="uploader"   multiple/> -->
                              <input id="file-upload" type="file" ng2FileSelect [uploader]="uploader"
                                (change)="onSelect()" multiple />

                            </div>
                            <div class="col-4">
                              <div>
                                <a tooltip="Remove from queue" (click)="uploader.clearQueue()">
                                  <i class="fa fa-trash"> Clear All</i>
                                </a>
                                <!-- <a class="button button-clear" (click)="uploader.clearQueue()">Clear queue</a> -->
                                <!-- <a class="button button-primary" (click)="uploader.uploadAll()">Upload all</a> -->
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-12">
                              {{fileObj.name}}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div> 
                  </div>
                </div>
              </div>
              <div class="row" *ngIf="uploader.queue.length != 0 ">
                <div class="col-md-12">
                  <!-- <h3>Upload queue</h3> -->
                  <div class="table-responsive angular-bootstrap-table">
                    <table class="table table-head-custom table-vertical-center overflow-hidden"> 
                      <thead>
                        <tr>
                          <th class="text-left">Name</th>
                          <th class="text-right">Size</th>
                          <th class="text-right">Actions</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of uploader.queue">
                          <td>{{ item?.file?.name }}</td>
                          <td class="text-right">{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>

                          <td class="text-right">
                            <a tooltip="Remove from queue" (click)="item.remove()">
                              <i class="fa fa-trash"></i>
                            </a>
                          </td>
                        </tr>
                      </tbody>
                    </table> 
                  </div>
                </div>

              </div> 

            </div>
            <!--end: Form Wizard Step 2-->

            <!--begin: Form Wizard Step 3-->
            <div class="pb-5" data-wizard-type="step-content" [formGroup]="step3FormGroup">
              <div class="row">
                <div class="col-lg-3" style="float: left;">
                  <div class="form-group cust-height">
                    <label class="form-label"> <strong> Booked In By </strong></label>
                    <div class="row">
                      <div class="col-12">
                        <mat-form-field class="col-10">
                          <mat-select (selectionChange)="selectBookedBy($event.value)"
                            [class.is-invalid]="Step3FormSelectControlInvalid('bookedBy')" formControlName="bookedBy"
                            name="bookedBy" placeholder="Select Boooked by">
                            <mat-option>
                              <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="bookedByMultiFilterCtrl" [searching]="searching">
                              </ngx-mat-select-search>
                            </mat-option>
                            <mat-option *ngFor="let item of filteredbookedByMulti | async" [value]="item.bookedBy">
                              {{item.bookedBy}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <div class="invalid-feedback" *ngIf="Step3FormSelectcontrolHasError('required', 'bookedBy')">
                          Booked By is required
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="form-group cust-height">
                  
                    <div class="col-10">
                      <label class="form-label"><strong>Barcode </strong></label>
                      <input type="text" class="form-control form-control-lg  " name="barcode"
                        placeholder="Enter a custom barcode here if required" autocomplete="off"
                        formControlName="barcode" />
                      <div class="invalid-feedback" *ngIf="isCustomerSelectcontrolHasError('required', 'serialNo')">SerialNo is
                      required
                    </div>
                    </div> 
                  </div> -->
                </div>

                <div class="col-lg-3" style="float: left;">

                  <!-- <div class="form-group cust-height">
                    <label class="form-label"><strong>Assigned To </strong></label>
                    <div class="row">
                      <div class="col-12">
                        <mat-form-field class="col-10">
                          <mat-select (selectionChange)="selectAssignTo($event.value)" formControlName="assignTo"
                            name="assignTo" placeholder="Choose a staff member to assign this job to">
                            <mat-option>
                              <ngx-mat-select-search [formControl]="assignToMultiFilterCtrl" [searching]="searching">
                              </ngx-mat-select-search>
                            </mat-option>
                            <mat-option *ngFor="let assign of filteredassignToMulti | async" [value]="assign.id">
                              {{assign.assignTo}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <div class="invalid-feedback" *ngIf="Step3FormSelectcontrolHasError('required', 'assignTo')">
                          Assign is required
                        </div>
                      </div>
                    </div>
                  </div> -->
                  <div class="form-group cust-height">
                    <label class="form-label"><strong> Job Status </strong></label>
                    <div class="row">
                      <div class="col-12">
                        <mat-form-field class="col-10">
                          <mat-select (selectionChange)="selectJobStatus($event.value)"
                            [(ngModel)]="createJobObj.jobStatus"
                            [class.is-invalid]="Step3FormSelectControlInvalid('jobStatus')" formControlName="jobStatus"
                            name="jobStatus" placeholder="Select Job Status" style="text-transform: capitalize;">
                            <mat-option>
                              <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="jobStatusMultiFilterCtrl" [searching]="searching">
                              </ngx-mat-select-search>
                            </mat-option>
                            <mat-option *ngFor="let jobstatus of filteredjobStatusMulti | async"
                              [value]="jobstatus.jobStatus" style="text-transform: capitalize;">
                              <label for=""></label> {{jobstatus.jobStatus}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <div class="invalid-feedback" *ngIf="Step3FormSelectcontrolHasError('required', 'jobStatus')">
                          Job
                          Status is required
                        </div>
                      </div>

                      <!-- <div class="col-4">
                        <button type="button" tooltip="Add Job Status " placement="top" show-delay="100"
                          (click)="editJobStatus()" style="padding: 12px;" class="btn btn-sm btn-primary"><i
                            class="fa fa-plus" aria-hidden="true"></i></button>
                      </div> -->
                    </div>
                  </div>
               
                </div>
                <div class="col-lg-3" style="float: left;"> 
                  <div class="form-group cust-height">
                    <label class="form-label"><strong> Storage Location </strong></label>
                    <div class="row">
                      <div class="col-8">
                        <mat-form-field class="col-12">
                          <mat-select (selectionChange)="selectStorageLocation($event.value)"
                            [(ngModel)]="createJobObj.storageLocation"
                            [class.is-invalid]="Step3FormSelectControlInvalid('storageLocation')"
                            formControlName="storageLocation" name="storageLocation" placeholder="Select Location">
                            <mat-option>
                              <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="LocationMultiFilterCtrl" [searching]="searching">
                              </ngx-mat-select-search>
                            </mat-option>
                            <mat-option *ngFor="let location of filteredLocationMulti | async"
                              [value]="location.storageLocation">
                              {{location.storageLocation}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <div class="invalid-feedback"
                          *ngIf="Step3FormSelectcontrolHasError('required', 'storageLocation')">StorageLocation is
                          required
                        </div>
                      </div>
                      <div class="col-4" style="right: 5%;">
                        <button type="button" tooltip="Add Storage Location " placement="top" show-delay="100"
                          (click)="editStorageModal()" style="padding: 12px;" class="btn btn-sm btn-primary"><i
                            class="fa fa-plus" aria-hidden="true"></i></button>
                      </div>
                    </div>
                  </div>
                
                </div>
                <div class="col-lg-3" style="float: left;">  
                  <div class="form-group cust-height">
                    <label class="form-label"><strong> Est Completion Date</strong></label>
                    <br>
                    <mat-form-field class="col-10">
                      <input matInput [matDatepicker]="picker" formControlName="estCompletionDate"
                        name="estCompletionDate" [min]="minDate" placeholder="Choose a date">
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>

                  </div>
                </div>
                <!-- </div> -->
              </div>

              <div class="row">
                <div class="col-12">
                  <div class="card">
                    <div class="card-body">
                      <div class="form-group">
                        <div class="row">
                          <div class="col-6">
                            <label class="form-label"><strong>Product </strong></label>
                            <div class="row">
                              <div class="col-8">
                                <mat-form-field class="col-12">
                                  <mat-select (selectionChange)="selectProduct($event.value)" formControlName="product"
                                    name="product" [(ngModel)]="createJobObj.product" placeholder="Select Product">
                                    <mat-option>
                                      <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="productMultiFilterCtrl"
                                        [searching]="searching">
                                      </ngx-mat-select-search>
                                    </mat-option>
                                    <mat-option>None</mat-option>
                                    <mat-option *ngFor="let item of filteredProductMulti | async"
                                      [value]="item.product">
                                      {{item.product}}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                              <!-- <div class="col-4">
                                <div class="row"> -->
                              <div class="col-4" style="right: 5%;">
                                <div class="row">
                                  <div class="col-3">
                                    <button type="button" tooltip="Add Product in Job" placement="top" show-delay="100"
                                      (click)="addProductInGrid()" style="padding: 12px;"
                                      class="btn btn-sm btn-primary">
                                      <i class="fa fa-arrow-circle-down" aria-hidden="true"></i>
                                    </button>
                                  </div>
                                  <div class="col-4">
                                    <button type="button" tooltip="Add Product" placement="top" show-delay="100"
                                      (click)="editProductModal()" style="padding: 12px;"
                                      class="btn btn-sm btn-primary"><i class="fa fa-plus" aria-hidden="true"></i>
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div> 
                          </div>
                          <div class="col-6">
                            <label class="form-label"><strong> Service </strong></label>
                            <div class="row">
                              <div class="col-8">
                                <mat-form-field class="col-12">
                                  <mat-select (selectionChange)="selectService($event.value)" formControlName="service"
                                    name="service" placeholder="Select Service" [(ngModel)]="createJobObj.service">
                                    <mat-option>
                                      <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="serviceMultiFilterCtrl"
                                        [searching]="searching">
                                      </ngx-mat-select-search>
                                    </mat-option>
                                    <mat-option>None</mat-option>
                                    <mat-option *ngFor="let item of filteredServiceMulti | async"
                                      [value]="item.service">
                                      {{item.service}}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>

                              <div class="col-4" style="right: 5%;">
                                <div class="row">
                                  <div class="col-3">
                                    <button type="button" tooltip="Add Service in Job" placement="top" show-delay="100"
                                      (click)="addServiceInGrid()" style="padding: 12px;"
                                      class="btn btn-sm btn-primary">
                                      <i class="fa fa-arrow-circle-down" aria-hidden="true"></i>
                                    </button>

                                  </div>
                                  <div class="col-4">
                                    <button type="button" tooltip="Add Service" placement="top" show-delay="100"
                                      (click)="editServiceModal()" style="padding: 12px;"
                                      class="btn btn-sm btn-primary"><i class="fa fa-plus" aria-hidden="true"></i>
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div> 
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-10">
                            <div class="table-responsive angular-bootstrap-table">
                              <table class="table table-head-custom table-vertical-center">
                                <thead>
                                  <th>
                                    NAME
                                  </th>
                                  <th>
                                    PRICE
                                  </th>
                                  <th>
                                    QUANTITY
                                  </th>
                                  <!-- <th></th> -->
                                  <th>ACTIONS</th>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let item of dataList;index as indexOfelement; let i = index">

                                    <td>{{item.name}}</td>
                                    <td style=" padding-top: 2%; width: 30%;"> 

                                      <div class="input-group">
                                        <input type="number" id="myInput" class="form-control"
                                          (input)="priceVal=$event.target.value" [(value)]="item.price"
                                          (keyup.enter)="editPrice(item,$event.target.value)"
                                          [disabled]="indexOfelement != editMode" [name]="item.price">

                                        <span class=" ">
                                          <div class="col-sm-8" *ngIf="indexOfelement != editMode">
                                            <button class="btn btn-default"
                                              (click)="editModeCheck(i,indexOfelement,item)">
                                              <span class="material-icons">
                                                create
                                              </span>
                                            </button>
                                          </div>
                                          <div class="col-sm-4" *ngIf="indexOfelement == editMode">
                                            <button class="btn btn-default"
                                              (click)="editModeSave(i,indexOfelement,item)">
                                              <span class="material-icons">
                                                done
                                              </span>
                                              <!-- <i class="fa fa-check" aria-hidden="true"></i> -->
                                            </button>
                                          </div>
                                        </span>
                                      </div>

                                    </td>
                                    <!-- <td>{{item.price}}</td> -->
                                    <td style="padding-top: 2%;">
                                      <div class="cust-div" *ngIf="item.service !=1;else service">
                                        <span [hidden]="item.quantity === 1" (click)="decrement(item)" class="minus "><i
                                            class="fa fa-minus cust-minus" aria-hidden="true"></i></span>
                                        <input disabled class="cust-txt" type="text" [value]="item.quantity" />
                                        <span (click)="increment(item)" class="plus"><i
                                            class="fa fa-plus cust-plus"></i></span>
                                      </div>

                                      <ng-template #service>
                                        <!-- <label class="cust-txt" for="">1</label> -->
                                        <input disabled class="cust-txt" type="text" [value]="item.quantity" />

                                      </ng-template>

                                      <!-- {{job.quantity}} -->
                                    </td>
                                    <td style="padding-top: 2%;">

                                      <a title="Delete" class="btn btn-icon btn-light btn-hover-danger btn-sm"
                                        (click)="deleteData(item)">
                                        <span [inlineSVG]="'./assets/media/svg/icons/General/Trash.svg'" cacheSVG="true"
                                          class="svg-icon svg-icon-md svg-icon-danger">
                                        </span>
                                      </a>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-12">
                  <div class="form-group">
                    <div class="card">
                      <div class="card-body">
                        <div class="row">
                          <div class="col-6">
                            <div class="form-group cust-height">
                              <label> <strong> Repair Description </strong></label>
                              <textarea class="form-control form-control-lg" name="repairDesc"
                                placeholder="Enter a description of the repair, or details of the problem"
                                autocomplete="off" formControlName="repairDesc" cols="8" rows="5"></textarea>
                            </div>
                          </div>
                          <div class="col-6">

                            <div class="row">
                              <div class="col-6">

                                <div class="form-group cust-height" style="display: inline;">
                                  <label class="form-label"><strong> Deposit </strong></label>
                                  <!-- <input type="text" autocomplete="off" name="deposit" formControlName="deposit"> -->
                                  <!-- <label class="form-label"> Deposit</label> -->

                                  <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text cust-groupbox" id="basic-addon1">£</span>
                                    </div>
                                    <input type="number" class="form-control  " name="deposit" formControlName="deposit"
                                      aria-label="deposit" aria-describedby="basic-addon1">
                                  </div>

                                </div>
                                <div class="form-group cust-height" style="display: inline;">
                                  <label class="form-label"><strong> Price </strong></label>

                                  <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text cust-groupbox" id="basic-addon1">£</span>
                                    </div>
                                    <input type="number" class="form-control  " name="price" formControlName="price"
                                      disabled [(ngModel)]="sum" aria-label="price" aria-describedby="basic-addon1">
                                  </div>
                                </div>
                              </div> 
                              
                            </div> 
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <div class="row">
                <div class="col-12">
                  <div class="form-group  ">
                    <label> <strong> Additional notes </strong></label>
                    <angular-editor formControlName="additionalNotes" name="additionalNotes" [config]="config">
                    </angular-editor>

                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <div class="form-group  ">
                    <label> <strong> Technician notes </strong></label>
                    <angular-editor formControlName="technicianNotes" name="technicianNotes" [config]="config">
                    </angular-editor>

                  </div>
                </div>
              </div>
              <br>
              <div class="row">
                <div class="col-12">
                  <label for="" class="form-label h5">Disclaimer</label>
                  <div class="view-container">
                    <p [innerHtml]="disclaimer.disclaimer"></p>
                  </div>
                </div>
              </div>
            </div>
            <!--end: Form Wizard Step 3-->

            <!--begin: Form Wizard Step 4-->
       
            <!--end: Form Wizard Step 4-->

            <!--begin: Form Wizard Step 5-->
            <div class="pb-5" data-wizard-type="step-content">
              <h4>Result</h4>
            </div>
            <!--end: Form Wizard Step 5-->

            <!--begin: Form Actions -->
            <div class="d-flex justify-content-between border-top pt-10">
              <div class="mr-2">
                <div class="btn btn-light-primary font-weight-bold text-uppercase px-9 py-4" (click)="previous()"
                  data-wizard-type="action-prev">
                  Previous
                </div>
              </div>
              <div>

                <button type="submit" data-wizard-type="action-submit" (click)="onSubmit()"
                  [ngStyle]=" {'width':isLoading$ == true ? '124px':'110px'}"
                  class="btn btn-success font-weight-bold text-uppercase px-9 py-4">Submit <span
                    [ngClass]="{spinner:isLoading$ == true}" style="margin: 17%;"></span></button>

              
                <button type="submit" (click)="demoClick()"
                  class="btn btn-primary font-weight-bold text-uppercase px-9 py-4" data-wizard-type="action-next">
                  Next Step
                </button>
              </div>
            </div>
            <!--end: Form Actions -->
          </form>
          <!--end: Form Wizard Form-->
        </div>
      </div>
    </div>
    <!--end: Wizard -->
  </div>
</div>




<!-- Add Customer Modal -->

<ng-template #openModal let-modal>

  <div class="modal-header cust-color">
    <div class="modal-title h4" id="example-modal-sizes-title-lg"> 

      <span style="color:aliceblue;"> <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Customer</span>

    </div>
  </div>
  <div class="demo-tab-content">
    <div class="overlay overlay-block cursor-default modal-body" style="min-height: 404px; width: 500px;"> 

      <ng-container> 
        <form action="#" class="form form-label-right" [formGroup]="formGroup">
          <div class="row">
            <div class="col-6">
              <div class="form-group cust-height">
                <label class="form-label"> First Name</label>
                <input pattern="^(\w+ ?)*$" type="text" class="form-control form-control-lg form-control-solid"
                  name="firstName" placeholder="Enter First Name" autocomplete="off"
                  [class.is-invalid]="isControlInvalid('firstName')" formControlName="firstName" />

                <div class="invalid-feedback" *ngIf="controlHasError('required', 'firstName')">First
                  name is required</div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group cust-height">
                <label class="form-label">Last Name</label>
                <input pattern="^(\w+ ?)*$" type="text" #lastName id="lastName"
                  class="form-control form-control-lg form-control-solid" name="lastName" placeholder="Enter Last Name"
                  autocomplete="off" [class.is-invalid]="isControlInvalid('lastName')" formControlName="lastName" />

                <div class="invalid-feedback" *ngIf="controlHasError('required', 'lastName')">Last name
                  is required</div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="form-group cust-height">
                <label class="form-label"> Email</label>
                <input type="email" class="form-control form-control-lg form-control-solid" name="email"
                  placeholder="Enter Email" autocomplete="off" formControlName="email" />
                <!-- <div class="invalid-feedback" *ngIf="controlHasError('required', 'email')">Email is
                  required</div> -->
                <!-- <div class="invalid-feedback" *ngIf="controlHasError('email', 'email')">Email format is
                  incorrect</div> -->
              </div>
            </div>
            <div class="col-6">
              <div class="form-group cust-height">
                <label class="form-label">Contact No</label>
                <input type="text" (keypress)="keyPress($event)" pattern="^((\\+0?)|0)?[0-9]{10}$" maxlength=11
                  minlength=11 class="form-control form-control-lg form-control-solid" name="contactNo"
                  placeholder="Enter Contact No" autocomplete="off" [class.is-invalid]="isControlInvalid('contactNo')"
                  formControlName="contactNo" />

                <!-- <div class="invalid-feedback" *ngIf="controlHasError('required', 'contactNo')">Contact No
                  is required</div> -->
                <div class="invalid-feedback" *ngIf="controlHasError('minlength', 'contactNo')">Contact No
                  should have at
                  least 11 digits</div>
                <div class="invalid-feedback" *ngIf="controlHasError('maxLength', 'contactNo')">Contact No
                  should have at
                  least 11 digits</div>
              </div>
            </div>
          </div>
          <div class="row">

            <div class="col-6"> 
              <div class="form-group cust-height">
                <label class="form-label">Customer Type</label>
                <mat-form-field>
                  <mat-select [class.is-invalid]="isControlInvalid('customerType')" formControlName="customerType"
                    name="customerType" placeholder="Select Customer">
                    <mat-option>
                      <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="customerTypeMultiFilterCtrl" [searching]="searching">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let cust of filteredcustomerTypeMulti | async" [value]="cust.customerType">
                      {{cust.customerType}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <div *ngIf="controlHasError('required', 'customerType')" class="invalid-feedback">
                  Customer Type is required</div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group cust-height">
                <label class="form-label"> Company name</label>
                <input pattern="^(\w+ ?)*$" type="text" class="form-control form-control-lg form-control-solid"
                  name="companyName" placeholder="Enter Company Name" autocomplete="off"
                  formControlName="companyName" />
              </div>
            </div>

          </div>
          <div class="row">
            <div class="col-6">
              <div class="form-group cust-height">
                <label class="form-label"> Postal Code</label>
                <input type="text" class="form-control form-control-lg form-control-solid" name="postCode"
                  placeholder="Enter Postal Code" autocomplete="off" formControlName="postCode" />
                <!-- <div class="invalid-feedback" *ngIf="controlHasError('required', 'postCode')">Post Code
                  is required</div> -->

              </div>
            </div>
            <div class="col-6">
              <div class="form-group cust-height">
                <label class="form-label">Referred By </label>

                <mat-form-field>
                  <mat-select (selectionChange)="selectReferredBy($event.value)" formControlName="referredBy"
                    name="referredBy" placeholder="Select Referred By">
                    <mat-option>
                      <ngx-mat-select-search [placeholderLabel]="'Search...'" [formControl]="referralMultiFilterCtrl" [searching]="searching">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let pro of filteredreferralMulti | async" [value]="pro.referredBy">
                      {{pro.referredBy}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

              </div>
            </div>

          </div>
          <div class="row">
            <div class="col-12">
              <div class="form-group cust-height" style="display: inline;">
                <label class="form-label"> Address</label>
                <textarea class="form-control form-control-lg  " name="address" placeholder="Enter Address"
                  autocomplete="off" formControlName="address" cols="10" rows="2"></textarea>
              </div>
            </div>
          </div>

        </form>
       
      </ng-container>
    </div>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light btn-elevate mr-2" (click)="closeModal()">Cancel</button>


    <ng-container>

      <button type="submit" (click)="Submit()" [ngStyle]=" {'width':isLoading$ == true ? '20%':'17%'}"
        class="btn btn-custom btn-elevate">Submit <span [ngClass]="{spinner:isLoading$ == true}"
          style="margin: 17%;"></span></button>

    </ng-container>
  </div>

</ng-template>

<!-- Add Customer Modal -->



<!-- Add Item Type Modal -->
<ng-template #itemopenModal let-modal>
  <div class="modal-header cust-color">
    <div class="modal-title h4" id="example-modal-sizes-title-lg"> 

      <span style="color:aliceblue;"> <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Item Type</span>
    </div>
  </div>
  <div class="overlay overlay-block cursor-default modal-body" style="min-height: 100px;"> 
    <ng-container>
      <form action="#" class="form form-label-right" [formGroup]="itemTypeGroup">
        <div class="form-group cust-height">
          <div class="col-lg-12">
            <label class="form-label">Item Type</label>
            <input type="text" class="form-control form-control-lg form-control-solid" name="itemTypeName" required
              placeholder="Enter Item Name" autocomplete="off" [class.is-invalid]="isItemControlInvalid('itemTypeName')"
              formControlName="itemTypeName" />
            <div class="invalid-feedback" *ngIf="isItemcontrolHasError('required', 'itemTypeName')">Item Name is
              required</div>

          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light btn-elevate mr-2" (click)="closeItemTypeModal()">Cancel</button>

          <ng-container>
            <button type="submit" (click)="addItemType()" [ngStyle]=" {'width':isLoading$ == true ? '20%':'17%'}"
              class="btn btn-custom btn-elevate">Submit <span [ngClass]="{spinner:isLoading$ == true}"
                style="margin: 17%;"></span></button>

          </ng-container>
        </div>
      </form>
    </ng-container>
  </div>


</ng-template>
<!-- Add Item Type Modal -->



<!-- Add Brand Modal -->
<ng-template #brandopenModal let-modal>
  <div class="modal-header cust-color">
    <div class="modal-title h4" id="example-modal-sizes-title-lg"> 
      <span style="color:aliceblue;"> <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Brand</span>
    </div>
  </div>
  <div class="overlay overlay-block cursor-default modal-body" style="min-height: 100px;"> 
    <ng-container>
      <form action="#" class="form form-label-right" [formGroup]="brandGroup">
        <div class="form-group cust-height">
          <div class="col-lg-12">
            <label class="form-label">Brand Name</label>
            <input type="text" class="form-control form-control-lg form-control-solid" name="brandName" required
              placeholder="Enter Brand Name" autocomplete="off" [class.is-invalid]="isBrandControlInvalid('brandName')"
              formControlName="brandName" />
            <div class="invalid-feedback" *ngIf="isBrandcontrolHasError('required', 'brandName')">Brand Name is required
            </div>

          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light btn-elevate mr-2" (click)="closeBrand()">Cancel</button>
          <ng-container>
            <button type="submit" (click)="addBrand()" [ngStyle]=" {'width':isLoading$ == true ? '20%':'17%'}"
              class="btn btn-custom btn-elevate">Submit <span [ngClass]="{spinner:isLoading$ == true}"
                style="margin: 17%;"></span></button>

          </ng-container>
        </div>
      </form>
    </ng-container>
  </div>


</ng-template>
<!-- Add Brand Modal -->



<!-- Add Accompanying Item Modal -->
<ng-template #acItemopenModal let-modal>
  <div class="modal-header cust-color">
    <div class="modal-title h4" id="example-modal-sizes-title-lg"> 

      <span style="color:aliceblue;"> <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Accompanying Item</span>
    </div>
  </div>
  <div class="overlay overlay-block cursor-default modal-body" style="min-height: 100px;"> 
    <ng-container>
      <form action="#" class="form form-label-right" [formGroup]="ACItemsGroup">
        <div class="form-group cust-height">
          <div class="col-lg-12">
            <label class="form-label">Accompanying Item Name</label>
            <input type="text" class="form-control form-control-lg form-control-solid" name="accompanyingName" required
              placeholder="Enter Accompanying Item Name" autocomplete="off"
              [class.is-invalid]="isACitemsControlInvalid('accompanyingName')" formControlName="accompanyingName" />
            <div class="invalid-feedback" *ngIf="isACitemscontrolHasError('required', 'accompanyingName')">Accompanying
              Item
              Name is required</div>

          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light btn-elevate mr-2" (click)="closeACItem()">Cancel</button>

          <ng-container>
            <button type="submit" (click)="addACItem()" [ngStyle]=" {'width':isLoading$ == true ? '20%':'17%'}"
              class="btn btn-custom btn-elevate">Submit <span [ngClass]="{spinner:isLoading$ == true}"
                style="margin: 17%;"></span></button>

          </ng-container>
        </div>
      </form>
    </ng-container>
  </div>


</ng-template>
<!-- Add Accompanying Item Modal -->

<!-- Add Service Modal -->
<ng-template #serviceopenModal let-modal>
  <div class="modal-header cust-color">
    <div class="modal-title h4" id="example-modal-sizes-title-lg">
      <!-- <ng-container *ngIf="customer">
       <ng-container *ngIf="customer.id">Edit</ng-container>
       <ng-container *ngIf="!customer.id">Create</ng-container>
    
       <ng-container *ngIf="customer.id">'{{customer.firstName}} {{ customer.lastName }}'</ng-container>
     </ng-container> -->

      <span style="color:aliceblue;"> <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Service</span>
    </div>
  </div>
  <div class="overlay overlay-block cursor-default modal-body" style="min-height: 100px;">
    <!-- <ng-container *ngIf="isLoading$ | async">
      <div class="overlay-layer bg-transparent">
        <div class="spinner spinner-lg spinner-success"></div>
      </div>
    </ng-container> -->
    <ng-container>
      <form action="#" class="form form-label-right" [formGroup]="ServiceformGroup">
        <div class="col-lg-12">
          <div class="form-group cust-height">

            <label class="form-label">Name</label>
            <input type="text" class="form-control form-control-lg form-control-solid" name="serviceName"
              placeholder="Enter Service Name" autocomplete="off"
              [class.is-invalid]="isServiceControlInvalid('serviceName')" formControlName="serviceName" required />
            <div class="invalid-feedback" *ngIf="isServicecontrolHasError('required', 'serviceName')">Name is required
            </div>

          </div>
        </div>

        <div class="col-lg-12">
          <div class="form-group cust-height">
            <!-- <p>Please only enter numbers in the estimated time box below, and then select the time type below (e.g. Hours, Days, Weeks etc.)</p> -->
            <label class="form-label"> Price</label>
            <input type="number" class="form-control form-control-lg form-control-solid " name="price"
              placeholder="Enter Price" autocomplete="off" [class.is-invalid]="isServiceControlInvalid('price')" disb
              formControlName="price" required />
            <div class="invalid-feedback" *ngIf="isServicecontrolHasError('required', 'price')">Price is required</div>

          </div>
        </div>


        <div class="modal-footer">
          <button type="button" class="btn btn-light btn-elevate mr-2" (click)="closeServiceModal()">Cancel</button>

          <ng-container>
            <button type="submit" (click)="addService()" [ngStyle]=" {'width':isLoading$ == true ? '20%':'17%'}"
              class="btn btn-custom btn-elevate">Submit <span [ngClass]="{spinner:isLoading$ == true}"
                style="margin: 17%;"></span></button>
          </ng-container>
        </div>
      </form>
    </ng-container>
  </div>


</ng-template>
<!-- Add Service Modal -->


<!-- Product Modal -->

<ng-template #productopenModal let-modal>
  <div class="modal-header cust-color">
    <div class="modal-title h4" id="example-modal-sizes-title-lg">
      <!-- <ng-container *ngIf="customer">
        <ng-container *ngIf="customer.id">Edit</ng-container>
        <ng-container *ngIf="!customer.id">Create</ng-container>
     
        <ng-container *ngIf="customer.id">'{{customer.firstName}} {{ customer.lastName }}'</ng-container>
      </ng-container> -->

      <span style="color:aliceblue;"> <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Product</span>

    </div>
  </div>
  <div class="overlay overlay-block cursor-default modal-body" style="min-height: 340px;">
    <!-- <ng-container *ngIf="isLoading$ | async">
     <div class="overlay-layer bg-transparent">
       <div class="spinner spinner-lg spinner-success"></div>
     </div>
   </ng-container>  -->
    <ng-container>
      <form action="#" class="form form-label-right" [formGroup]="productGroup">

        <div class="col-lg-12">
          <div class="form-group cust-height">
            <label class="form-label"> Product Name</label>
            <input type="text" class="form-control form-control-lg form-control-solid" name="productName"
              placeholder="Enter Product Name" autocomplete="off"
              [class.is-invalid]="isProductControlInvalid('productName')" formControlName="productName" required />
            <div class="invalid-feedback" *ngIf="ProductcontrolHasError('required', 'productName')">Product Name is
              required</div>

          </div>
        </div>
        <div class="col-lg-12">
          <div class="form-group cust-height">
            <label class="form-label"> Sell Price</label>
            <input type="number" class="form-control form-control-lg form-control-solid" name="sellPrice"
              placeholder="Enter Sell Price" [class.is-invalid]="isProductControlInvalid('sellPrice')"
              formControlName="productName" autocomplete="off" formControlName="sellPrice" />
            <div class="invalid-feedback" *ngIf="ProductcontrolHasError('required', 'sellPrice')">Sell Price is
              required</div>
          </div>
        </div>
        <div class="col-lg-12">
          <div class="form-group cust-height">
            <label class="form-label"> Cost Price</label>
            <input type="number" class="form-control form-control-lg form-control-solid" name="costPrice"
              placeholder="Enter Cost Price" autocomplete="off" formControlName="costPrice" />
          </div>
        </div> 
   
          </form>
    </ng-container>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light btn-elevate mr-2" (click)="closeProductModal()">Cancel</button>

    <ng-container>

      <button type="submit" (click)="addProduct()" [ngStyle]=" {'width':isLoading$ == true ? '20%':'17%'}"
        class="btn btn-custom btn-elevate">Submit <span [ngClass]="{spinner:isLoading$ == true}"
          style="margin: 17%;"></span></button>

    </ng-container>
  </div>

</ng-template>

<!-- Product Modal -->


<!-- Add Job Status Modal -->
<ng-template #statusopenModal let-modal>
  <div class="modal-header cust-color">
    <div class="modal-title h4" id="example-modal-sizes-title-lg"> 

      <span style="color:aliceblue;"> <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Job Status</span>

    </div>
  </div>
  <div class="overlay overlay-block cursor-default modal-body" style="min-height: 100px;"> 
    <ng-container>
      <form action="#" class="form form-label-right" [formGroup]="jobStatusGroup">
        <div class="form-group cust-height">
          <div class="col-lg-12">
            <label class="form-label">Status Type</label>
            <input type="text" class="form-control form-control-lg form-control-solid" name="statusType" required
              placeholder="Enter Status Type" autocomplete="off"
              [class.is-invalid]="jobStatusSelectControlInvalid('statusType')" formControlName="statusType" />
            <div class="invalid-feedback" *ngIf="jobStatusSelectcontrolHasError('required', 'statusType')">Status Type
              is required
            </div>

          </div>
        </div>
        <div class="form-group cust-height">
          <div class="col-lg-12">
            <label class="form-label">Status Stage</label>
            <input type="text" class="form-control form-control-lg form-control-solid" name="statusStage" required
              placeholder="Enter Stage Name" autocomplete="off"
              [class.is-invalid]="jobStatusSelectControlInvalid('statusStage')" formControlName="statusStage" />
            <div class="invalid-feedback" *ngIf="jobStatusSelectcontrolHasError('required', 'statusStage')">Status Stage
              is required
            </div>

          </div>
        </div>
        <div class="form-group cust-height">
          <label class="form-label"> Status Colour</label>
          <!-- <input type="text" autocomplete="off" name="deposit" formControlName="deposit"> -->
          <!-- <label class="form-label"> Deposit</label> -->
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <!-- <span class="input-group-text" id="basic-addon1">£</span> -->
              <ngx-mat-color-toggle matSuffix [for]="picker"></ngx-mat-color-toggle>
              <ngx-mat-color-picker #picker></ngx-mat-color-picker>
            </div>
            <input type="text" matInput [ngxMatColorPicker]="picker" [formControl]="colorCtr" class="form-control"
              name="statusColor" formControlName="statusColor"
              [class.is-invalid]="jobStatusSelectControlInvalid('statusColor')" aria-describedby="basic-addon1">
          </div>
          <div class="invalid-feedback" *ngIf="jobStatusSelectcontrolHasError('required', 'statusColor')">Status Color
            is required
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light btn-elevate mr-2" (click)="closeStatus()">Cancel</button>

          <ng-container>
            <button type="submit" (click)="addjobStatus()" [ngStyle]=" {'width':isLoading$ == true ? '20%':'17%'}"
              class="btn btn-custom btn-elevate">Submit <span [ngClass]="{spinner:isLoading$ == true}"
                style="margin: 17%;"></span></button>
          </ng-container>


        </div>
      </form>
    </ng-container>
  </div>


</ng-template>
<!-- Add Job Status Modal -->


<!-- Add Storage Location Modal -->
<ng-template #storageopenModal let-modal>
  <div class="modal-header cust-color">
    <div class="modal-title h4" id="example-modal-sizes-title-lg">
      <!-- <ng-container *ngIf="customer">
       <ng-container *ngIf="customer.id">Edit</ng-container>
       <ng-container *ngIf="!customer.id">Create</ng-container> 
       <ng-container *ngIf="customer.id">'{{customer.firstName}} {{ customer.lastName }}'</ng-container>
     </ng-container> -->
      <span style="color:aliceblue;"> <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Storage</span>

    </div>
  </div>
  <div class="overlay overlay-block cursor-default modal-body" style="min-height: 100px;">
    <!-- <ng-container *ngIf="isLoading$ | async">
      <div class="overlay-layer bg-transparent">
        <div class="spinner spinner-lg spinner-success"></div>
      </div>
    </ng-container> -->
    <ng-container>
      <form action="#" class="form form-label-right" [formGroup]="locationGroup">
        <div class="form-group cust-height">
          <div class="col-lg-12">
            <label class="form-label">Storage Location</label>
            <input type="text" class="form-control form-control-lg form-control-solid" name="storageName" required
              placeholder="Enter Storage Location" autocomplete="off"
              [class.is-invalid]="storageLocationSelectControlInvalid('storageName')" formControlName="storageName" />
            <div class="invalid-feedback" *ngIf="storageLocationSelectcontrolHasError('required', 'storageName')">
              Storage Location required
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light btn-elevate mr-2" (click)="closeLocation()">Cancel</button>

          <ng-container>
            <button type="submit" (click)="addLocation()" [ngStyle]=" {'width':isLoading$ == true ? '20%':'17%'}"
              class="btn btn-custom btn-elevate">Submit <span [ngClass]="{spinner:isLoading$ == true}"
                style="margin: 17%;"></span></button>
          </ng-container>
        </div>
      </form>
    </ng-container>
  </div>


</ng-template>
<!-- Add Storage Location Modal -->